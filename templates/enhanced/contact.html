{% extends "enhanced/base.html" %}

{% block title %}Contact - {{ company_settings.company_name }}{% endblock %}
{% block description %}Contact {{ company_settings.company_name }} for premier investment opportunities in Equatorial Guinea and Africa. Get in touch with our specialists today.{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="page-header-content scroll-reveal">
        <h1>Ready to Invest in Africa's Future?</h1>
        <p>Connect with our investment specialists for exclusive opportunities and personalized market insights.</p>
    </div>
</section>

<!-- Contact Section -->
<section class="section">
    <div class="contact-container">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages scroll-reveal">
                    {% for category, message in messages %}
                        <div class="flash-message {{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        <div class="contact-content">
            <div class="contact-form-section scroll-reveal">
                <h2>Get In Touch</h2>
                <p>Fill out the form below and our team will get back to you within 24 hours.</p>
                
                <!-- Enhanced Contact Form -->
                <form class="contact-form" method="POST" novalidate>
                    {{ form.hidden_tag() }}
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.name.label(class="form-label") }}
                            {{ form.name(class="form-control" + (" error" if form.name.errors else "")) }}
                            {% if form.name.errors %}
                                <div class="form-error">{{ form.name.errors[0] }}</div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.email.label(class="form-label") }}
                            {{ form.email(class="form-control" + (" error" if form.email.errors else "")) }}
                            {% if form.email.errors %}
                                <div class="form-error">{{ form.email.errors[0] }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.phone.label(class="form-label") }}
                            {{ form.phone(class="form-control" + (" error" if form.phone.errors else "")) }}
                            {% if form.phone.errors %}
                                <div class="form-error">{{ form.phone.errors[0] }}</div>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {{ form.service.label(class="form-label") }}
                            {{ form.service(class="form-control" + (" error" if form.service.errors else "")) }}
                            {% if form.service.errors %}
                                <div class="form-error">{{ form.service.errors[0] }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="form-group">
                        {{ form.message.label(class="form-label") }}
                        {{ form.message(class="form-control" + (" error" if form.message.errors else ""), rows="4") }}
                        {% if form.message.errors %}
                            <div class="form-error">{{ form.message.errors[0] }}</div>
                        {% endif %}
                    </div>
                    
                    <button type="submit" class="btn-primary btn-large" onclick="gtag('event', 'submit', {'event_category': 'Contact', 'event_label': 'Contact Form'});">
                        <span class="btn-text">Schedule Consultation</span>
                        <span class="btn-loader"></span>
                    </button>
                </form>
            </div>
            
            <div class="contact-info-section scroll-reveal">
                <h2>Contact Information</h2>
                <p>Reach out to us through any of the following channels:</p>
                
                <div class="contact-info-list">
                    <div class="contact-item">
                        <div class="contact-icon">üìß</div>
                        <div class="contact-details">
                            <h4>Email</h4>
                            <p><a href="mailto:{{ company_settings.email }}">{{ company_settings.email }}</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üìû</div>
                        <div class="contact-details">
                            <h4>Phone</h4>
                            <p><a href="tel:{{ company_settings.phone }}">{{ company_settings.phone }}</a></p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üìç</div>
                        <div class="contact-details">
                            <h4>Location</h4>
                            <p>{{ company_settings.address }}</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üïí</div>
                        <div class="contact-details">
                            <h4>Business Hours</h4>
                            <p>Monday - Friday: 9:00 AM - 6:00 PM<br>Saturday: 10:00 AM - 2:00 PM</p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-social">
                    <h4>Follow Us</h4>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="LinkedIn">üíº</a>
                        <a href="#" class="social-link" aria-label="Twitter">üê¶</a>
                        <a href="#" class="social-link" aria-label="Facebook">üìò</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="section faq-section">
    <div class="section-header scroll-reveal">
        <h2>Frequently Asked Questions</h2>
        <p>Quick answers to common questions about our services.</p>
    </div>
    
    <div class="faq-container scroll-reveal">
        <div class="faq-item">
            <div class="faq-question">
                <h3>What types of investment opportunities do you facilitate?</h3>
                <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
                <p>We facilitate investments across multiple sectors including energy, infrastructure, real estate, manufacturing, and technology. Our focus is on high-impact projects that benefit both investors and local communities.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question">
                <h3>How do you ensure investment security and compliance?</h3>
                <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
                <p>We conduct thorough due diligence, work closely with government agencies for regulatory compliance, and implement comprehensive risk management strategies. Our team has extensive experience in African markets and regulatory frameworks.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question">
                <h3>What is your minimum investment threshold?</h3>
                <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
                <p>Investment thresholds vary by project and sector. We work with serious investors starting from $1M USD and can accommodate larger institutional investments. Contact us to discuss your specific investment capacity and objectives.</p>
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question">
                <h3>How long does the investment process typically take?</h3>
                <span class="faq-toggle">+</span>
            </div>
            <div class="faq-answer">
                <p>The timeline varies depending on project complexity and regulatory requirements. Typically, our facilitation process takes 3-6 months from initial consultation to project execution. We provide regular updates throughout the process.</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // FAQ Toggle Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const faqItems = document.querySelectorAll('.faq-item');
        
        faqItems.forEach(item => {
            const question = item.querySelector('.faq-question');
            const answer = item.querySelector('.faq-answer');
            const toggle = item.querySelector('.faq-toggle');
            
            question.addEventListener('click', () => {
                const isOpen = item.classList.contains('active');
                
                // Close all other items
                faqItems.forEach(otherItem => {
                    otherItem.classList.remove('active');
                    otherItem.querySelector('.faq-toggle').textContent = '+';
                });
                
                // Toggle current item
                if (!isOpen) {
                    item.classList.add('active');
                    toggle.textContent = '‚àí';
                }
            });
        });
    });
    
    // Enhanced form submission
    document.querySelector('.contact-form').addEventListener('submit', function(e) {
        const submitBtn = this.querySelector('button[type="submit"]');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnLoader = submitBtn.querySelector('.btn-loader');
        
        submitBtn.disabled = true;
        btnText.style.opacity = '0';
        btnLoader.style.display = 'block';
        
        // Re-enable after 3 seconds if form doesn't submit successfully
        setTimeout(() => {
            submitBtn.disabled = false;
            btnText.style.opacity = '1';
            btnLoader.style.display = 'none';
        }, 3000);
    });
</script>
{% endblock %}
